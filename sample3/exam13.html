<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Sample</title>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<style>
			svg { width: 320px; height: 240px; border: 1px solid black; }
			.bar { fill : orange; }
		</style>
	</head>
	<body>
		<h1>데이터에 따라 그래프 표시</h1>
		<svg id="myGraph"></svg>
		<script>
		// 데이터셋이 JSON 파일일 때
		d3.json("mydata.json", function(error, data){
			console.log(data);
			var dataSet = [ ];	// 데이터를 저장할 배열을 준비
			for(var i=0; i<data.length; i++){	// 데이터 줄 수만큼 반복
				dataSet.push(data[i].sales[0]);	// sales의 최초 데이터만 추출
			}
			// 그래프 그리기
			d3.select("#myGraph")
			  .selectAll("rect")	
			  .data(dataSet)	
			  .enter()	
			  .append("rect")	
			  .attr("class", "bar")	
			  .attr("width", function(d,i){	
					return d;	
				})
			  .attr("height", 20)	
			  .attr("x", 0)	
			  .attr("y", function(d, i){	
					return i * 25	
				})
		})
		</script>
	</body>
</html>
